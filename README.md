# Project

프로젝트 주제는 장마로 인하여 날씨 예보를 자주 확인하였는데 날씨 예보는 특정 지역의 평균 강수량을 알려주는 것을 알 수 있었습니다.

그래서 내가 원하는 지역의 강수량을 확인하는 방법에는 무슨 방법이 있을까 생각을 하다가 내가 직접 확인해 보자 하는 의도로 하게 되었습니다.

중요한 점은 당장의 강수량 측정이 얼마나 되는지를 알 수 있어야 피해를 줄일 수 있다고 생각하였기에 실시간 IOT 기술을 접목하기로 하였습니다.

또한, 본 프로젝트는 수위를 측정할 수 있는 센서를 사용하지 않았고 카메라를 사용하여 프로젝트를 진행하면서 센서의 범용적인 활용으로도 원하는 작업을 할 수 있다는 것을 확인해보았습니다.

# 개발 과정

jupyter notebook으로 작업을 진행하였고 python opencv를 이용하여 코드를 작성하였고 Raspberrypi와 Raspberrypi 카메라 모듈을 사용하였습니다.

opencv를 사용하여 물의 높이를 측정하려 하였고 측정한 물의 높이를 IOT 기술로 전달하는 방식을 사용 하려고 하였습니다.

물의 높이를 측정하면서 카메라로 물을 인식하기에는 딥러닝 작업을 사용하지 않으면 힘들다는 의견이 많아서 물 대신 커피와 같은 색상을 인식할 수 있는 물체로 대체 하였습니다.

색상을 인식하여 수위를 측정할 때 정확하게 측정을 하기 위해서 모폴로지 연산을 적용하여 노이즈를 최소한으로 제거하였습니다.

수위를 측정하기 위해 측정 대상의 Bounding Box를 생성하였고 Bounding Box의 수직 차이를 높이로 선정하였습니다.

실시간 IOT 기술은 스마트폰 앱 중에서 Blynk 앱을 사용하였고 수위 측정 데이터를 실시간으로 전송하여 시계열 그래프와 변화치를 표시하도록 하였습니다.

또한 경고 알림음이 오는 범위를 200으로 설정하여 측정되는 높이가 200이 넘으면 알림을 줄 수 있도록 하였습니다.
